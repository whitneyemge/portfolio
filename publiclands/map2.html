<!DOCTYPE HTML>
<!--
	Minimaxing by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Public Land Use Preferences</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

		<!-- mapbox js -->
		<link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.css' rel='stylesheet' />
		<script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.js'></script>

	 <!-- leaflet draw library -->
	 <link rel='stylesheet' href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.css' />
	 <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-draw/v0.2.2/leaflet.draw.js'></script>

	 <!-- jquery -->
	 <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	 <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

	 <!-- bootstrap -->
	 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	</head>

	<body>
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-12">

								<header id="header">
									<h1>Land Use Preference Mapping</h1>
									<nav id="nav">
										<!-- <a href="index.html">Homepage</a>
										<a href="twocolumn1.html" class="current-page-item">Two Column #1</a>
										<a href="twocolumn2.html">Two Column #2</a>
										<a href="onecolumn.html">One Column</a>
										<a href="threecolumn.html">Three Column</a> -->
									</nav>
								</header>

							</div>
						</div>
					</div>
				</div>

			<!-- Main -->

			<div id="main">
				<div class="container">
					<div class="row main-row">
						<div class="col-12">

							<section>
								<h2>Instructions</h2>
								<p>The map below shows the Colville National Forest in Washington State. Click on either the line or polygon icons and draw shapes on the map to represent places where you prefer certain land use types. Once you draw a feature, click either the recreation, agriculture, or forestry button above the map to indicate which type of land use the polygon or line represents.</p>
							</section>

								<section>
									<h2>Map</h2>

									<!-- add map div -->
									<div id='map' style='height: 75vh;'></div>

									<script>

                  var map = L.map('map').setView([48.588, -117.870], 9);
                    L.tileLayer('https://api.mapbox.com/styles/v1/emgew/cka5l6m1s17cr1imz0gwap4ey/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiZW1nZXciLCJhIjoiY2sybzlheDB4MDJrdDNwbXp1OXVmN3dseCJ9.ukmQwSpvGDqj0hChY4ZUyQ', {
                        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
                    }).addTo(map);

										// Create variable for Leaflet.draw features
										var drawnItems = L.featureGroup().addTo(map);
										map.addLayer(drawnItems);

										var UserMarker = L.featureGroup().addTo(map);
										map.addLayer(UserMarker);

										var drawControl = new L.Control.Draw({
											draw: {
												polyline: false,
												marker: false
											},
												edit: {
													featureGroup: drawnItems
												}
										});
										map.addControl(drawControl);

										map.on('draw:created', function (e) {
										  var layer = e.layer;
										  drawnItems.addLayer(layer);
										  map.addLayer(drawnItems);
										});

										 // https://gis.stackexchange.com/questions/159536/submit-form-information-from-a-leaflet-popup-to-mysql-table
										 // map.on('draw:created', function (e) {
										 //  var type = e.layerType,
										 //     layer = e.layer;
										 //     var coords = e.layer._latlng;
										 //       console.log(coords);
										 //  UserMarker.addLayer(layer);
										 //  var popup = L.popup({maxWidth: 1000})
										 //     .setLatLng(layer.getLatLng())
										 //     .setContent('<form role="form" id="form" onsubmit="addMarker()">'+
										 //
										 //              '<div class="form-group">'+
										 //               '<label class="control-label col-sm-12"><strong>Was the officer following protocol? </strong></label>'+ "<br>" +
										 //               '<select class="form-control" placeholder="Required" id="protocol" name="text">'+
										 //                 '<option value="Following Protocol">Following Protocol</option>'+
										 //                 '<option value="Not Following Protocol">Not Following Protocol</option>'+
										 //                 '<option value="I Dont Know">I Dont Know</option>'+
										 //               '</select>'+
										 //           '</div>'+
										 //
										 //               '<div class="form-group">'+
										 //                '<label class="control-label col-lg-10"><strong>Jurisdiction </strong></label>'+ "<br>" +
										 //                '<select class="form-control" id="jurisdiction" name="text">'+
										 //                 '<option value="City PD">City PD</option>'+
										 //                 '<option value="County Sheriff">County Sheriff</option>'+
										 //                 '<option value="CHP">CHP</option>'+
										 //                 '<option value="Other">Other</option>'+
										 //               '</select>'+
										 //           '</div>'+
										 //
										 //                '<div class="form-group">'+
										 //               '<label class="control-label col-sm-10"><strong>Was there an arrest? </strong></label>'+ "<br>" +
										 //               '<select class="form-control" id="arrest" name="text">'+
										 //                 '<option value="Yes">Yes</option>'+
										 //                 '<option value="No">No</option>'+
										 //                 '<option value="I Dont Know">I Dont Know</option>'+
										 //               '</select>'+
										 //           '</div>'+
										 //
										 //           '<div class="form-group">'+
										 //               '<label class="control-label col-sm-10"><strong>Date </strong> (Example: 8/1/2015) </label>'+ "<br>" +
										 //               '<input type="date" placeholder="Example: 8/1/2015" id="date" name="date" class="form-control"/>'+
										 //           '</div>'+
										 //
										 //             '<div class="form-group">'+
										 //               '<label class="control-label col-sm-10"><strong>Time Of Day </strong></label>'+ "<br>" +
										 //               '<select class="form-control" id="time" name="text">'+
										 //                 '<option value="Morning">Morning</option>'+
										 //                 '<option value="Afternoon">Afternoon</option>'+
										 //                 '<option value="Night">Night</option>'+
										 //                 '<option value="Late Night or Early Morning">Late Night or Early Morning</option>'+
										 //               '</select>'+
										 //           '</div>'+
										 //
										 //           '<div class="form-group">'+
										 //               '<label class="control-label col-sm-10"><strong>Comments </strong></label>'+ "<br>" +
										 //               '<input type="text" placeholder="Briefly tell us what happened" id="comments" name="comments" class="form-control"/>'+
										 //           '</div>'+
										 //
										 //           '<div class="form-group">'+
										 //               '<label class="control-label col-sm-10"><strong>Video Link </strong></label>'+ "<br>" +
										 //               '<input type="text" placeholder="Do you have a video? Add link here" id="video" name="video" class="form-control"/>'+
										 //           '</div>'+
										 //
										 //                         '<div class="form-group">'+
										 //                 '<div style="text-align:center;" class="col-xs-11"><button style="text-align:center;" id="submit" value="submit" class="btn btn-primary trigger-submit">Submit</button></div>'+
										 //           '</div>'+ "<br>" +
										 //
										 //         '<strong>' + '-' + '</strong'+
										 //
										 //           '</form>')
										 //     .openOn(map);
										 // });

										// http://duspviz.mit.edu/web-map-workshop/cartodb-data-collection/

										// Function to run when feature is drawn on map
										// map.on('draw:created', function (e) {
										//   var layer = e.layer;
										//   drawnItems.addLayer(layer);
										//   map.addLayer(drawnItems);
										// });

										// Use the jQuery UI dialog to create a dialog and set options
										// var dialog = $("#dialog").dialog({
										//   autoOpen: false,
										//   height: 300,
										//   width: 350,
										//   modal: true,
										//   position: {
										//     my: "center center",
										//     at: "center center",
										//     of: "#map"
										//   },
										//   buttons: {
										//     "Add to Database": setData,
										//     Cancel: function() {
										//       dialog.dialog("close");
										//       map.removeLayer(drawnItems);
										//     }
										//   },
										//   close: function() {
										//     form[ 0 ].reset();
										//     console.log("Dialog closed");
										//   }
										// });
										//
										// // Stops default form submission and ensures that setData or the cancel function run
										// var form = dialog.find("form").on("submit", function(event) {
										//   event.preventDefault();
										// });




									</script>
								</section>
							</div>

							<p>
							<a href="#" class="button">Submit</a>
							</p>

							</div>
						</div>
					</div>
				</div>

			<!-- Footer -->
				<div id="footer-wrapper">
					<div class="container">
						<div class="row">
							<div class="col-8 col-12-medium">

								<section>
									<h2>Data Sources</h2>
									<div>
										<div class="row">
											<div class="col-3 col-6-medium col-12-small">
												<ul class="link-list">
													<li><a href="https://data.fs.usda.gov/geodata/webapps/EDW_DataExtract/" target="_blank">USDA Forest Service</a></li>
													<li><a href="http://geo.wa.gov/datasets/wa-rco::wa-rco-trails-2017" target="_blank">WA State Recreation and Conservation Office</a></li>
												</ul>
											</div>

										</div>
									</div>
								</section>

							</div>

						</div>
						<div class="row">
							<div class="col-12">

								<div id="copyright">
									&copy; Untitled. All rights reserved. | Design: <a href="http://html5up.net">HTML5 UP</a>
								</div>

							</div>
						</div>
					</div>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

		<!-- Bootstrap -->
			<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
			<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


	</body>
</html>
