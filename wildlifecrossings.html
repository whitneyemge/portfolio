<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
	Paw icon source: Font Awesome, https://fontawesome.com/
	Fullscreen div source: https://github.com/Leaflet/Leaflet.fullscreen
-->
<html>
	<head>
		<title>Wildlife Crossings</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="assets/css/main.css" />

	    <link rel="stylesheet" href="leaflet/leaflet.css"/>
		<script src="leaflet/leaflet.js"></script>
		<script src="assets/js/jquery-3.4.1.min.js"></script>
		<link rel="stylesheet" href="dist/leaflet.fullscreen.css"/>
		<script src="dist/Leaflet.fullscreen.js"></script>

		
	<!-- leaflet -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
		<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>

	</head>
	
	<body>

	<!-- Title and info -->
		<section class="wrapper style1 align-center">
			<div class="inner">
				<h2>Wildlife Crossing Structures in Washington</h2>
				<p>This map shows the locations of major highways and wildlife crossing structures in the state of Washington. These structures are important for two reasons. First, they allow wildlife to cross highways safely, which reduces collisions with automobiles. Second, when these structures are located along wildlife corridors, they reduce habitat fragmentation and promote biodiversity.</p>
				<p>Each paw icon represents a wildlife crossing structure, which includes overpasses, underpasses or culverts, jumpouts, and wildlife guards. The datasets were downloaded as KML files from the <a href="http://geo.wa.gov/" target="_blank">Washington Geospatial Open Data Portal</a> and converted to GeoJSON using <a href="http://geojson.io/#map=2/20.0/0.0" target="_blank">geojson.io</a>. Links to the data layers appear below the map. The Mapbox Outdoors tile layer was chosen to show wilderness areas, which provide habitat for the wildlife using the crossing structures.</p>

	<!-- Leaflet map -->

    <div id="map"></div>

      <script src="leaflet-mapbox-gl.js"></script>
      <script>
	var map = L.map('map').setView([47.598194, -120.683628], 7);
		L.tileLayer('https://api.mapbox.com/styles/v1/emgew/cka5l6m1s17cr1imz0gwap4ey/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiZW1nZXciLCJhIjoiY2sybzlheDB4MDJrdDNwbXp1OXVmN3dseCJ9.ukmQwSpvGDqj0hChY4ZUyQ', {
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		}).addTo(map);

	var token = "pk.eyJ1IjoiZW1nZXciLCJhIjoiY2sybzlheDB4MDJrdDNwbXp1OXVmN3dseCJ9.ukmQwSpvGDqj0hChY4ZUyQ";
		
	var gl = L.mapboxGL({
    	accessToken: 'token',
    	style: 'mapbox://styles/mapbox/light-v11'      
		}).addTo(map);


				//Null variable to hold crossing point data
				var crossingPoints = null;

				//Add points data
				$.getJSON("assets/geojson/crossStruct.geojson",function(data){
				 crossingPoints = L.geoJson(data,{
				 					onEachFeature: function (feature, layer) {
										layer.bindPopup("Name: " + feature.properties.Location_Name + "<br>Structure Type: " + feature.properties.StructureType);
										},
									pointToLayer: function (feature, latlng) {
										var marker = L.marker(latlng,{icon: pawIcon});
										return marker;
										}
				 					}).addTo(map);
				 		  	});

				//Create paw icon
				var pawIcon = L.icon({
					iconUrl: 'images/zoo.png',
					iconSize: [30,30],
					iconAnchor: [15,15],
					popupAnchor: [0,-6]
				});

				//Add lines data
				$.getJSON("assets/geojson/connPrior.geojson",function(data){
						L.geoJson(data,{
							onEachFeature: function (feature, layer) {
								layer.bindPopup("<b>State Route Number: </b>" + feature.properties.StateRouteNumber + "<br><b>Priority Rank: </b>" + feature.properties.MaxRank);
								},
							style: function (feature) {
								return {color: "black", weight: 2};
								}
							}
						).addTo(map);
					});

      		</script>
				</div>
			</section>

<!-- Sources -->
				<section class="wrapper style1 align-center">
					<div class="inner">
						<h3>Data Sources</h3>
						<p><a href="http://geo.wa.gov/datasets/1be1a218e6034b35a4642e61553e33a0_0" target="_blank">WSDOT - Wildlife Crossing Structures</a>
						<br><a href="http://geo.wa.gov/datasets/WSDOT::wsdot-habitat-connectivity-investment-priorities" target="_blank">WSDOT - Habitat Connectivity Investment Priorities</a></p>
					</div>
				</section>

<!-- Home Button -->
				<footer class="wrapper style1 align-center">
					<div class="inner">
						<ul class="actions stacked">
							<li><a href="https://whitneyemge.github.io/portfolio/" class="button">Back to Home</a></li>
						</ul>
					</div>
				</footer>

    </body>
  </html>
