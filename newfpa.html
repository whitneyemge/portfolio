
<html>
	<head>
		<title>Forest Practice Applications and Trails</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="assets/css/main.css" />

    <link rel="stylesheet" href="leaflet/leaflet.css"/>
		<script src="leaflet/leaflet.js"></script>
		<script src="assets/js/jquery-3.4.1.min.js"></script>
		<script src="assets/js/Leaflet.MultiOptionsPolyline.js"></script>

	</head>
	<body>

		<!-- Title and info -->
		      <section class="wrapper style1 align-center">
								<div class="inner">
									<h2>Wildlife Crossing Structures in Washington</h2>
									<p>This map shows...</p>
								</div>
					</section>

		<!-- Leaflet map -->

    <div id="mapid"></div>

      <script>
        var mymap = L.map('mapid').setView([46.989211, -120.606391], 7);
				L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
          attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
          maxZoom: 18,
          id: 'mapbox.outdoors',
          accessToken: 'pk.eyJ1IjoiZW1nZXciLCJhIjoiY2sybzlheDB4MDJrdDNwbXp1OXVmN3dseCJ9.ukmQwSpvGDqj0hChY4ZUyQ'
				}).addTo(mymap);

				//Null variable to hold crossing point data
				var crossingPoints = null;

				//Add points data
			$.getJSON("assets/geojson/crossStruct.geojson",function(data){
				 crossingPoints = L.geoJson(data,{
				 					onEachFeature: function (feature, layer) {
										layer.bindPopup(feature.properties.Location_Name);
									}, pointToLayer: function (feature, latlng) {
										var marker = L.marker(latlng,{icon: pawIcon});
										return marker;
									}
				 				}).addTo(mymap);
				 		  });

				//Create paw icon
				var pawIcon = L.icon({
					iconUrl: 'images/zoo.png',
					iconSize: [30,30],
					iconAnchor: [15,15],
					popupAnchor: [0,-6]
				});

				//Add lines data
			$.getJSON("assets/geojson/connPrior.geojson",function(data){
				L.geoJson(data,
					L.multiOptionsPolyline(points, {
    multiOptions: {
        optionIdxFn: function (latLng) {
            var feature.properties.EcoRank,
                altThresholds = ["Low", "Med", "High",];

            for (i = 0; i < altThresholds.length; ++i) {
                if (latLng.alt <= altThresholds[i]) {
                    return i;
                }
            }
            return altThresholds.length;
        },
        options: [
            {color: '#0000FF'}, {color: '#0040FF'}, {color: '#0080FF'},
            {color: '#00FFB0'}, {color: '#00E000'}, {color: '#80FF00'},
            {color: '#FFFF00'}, {color: '#FFC000'}, {color: '#FF0000'}
        ]
    },
    weight: 5,
    lineCap: 'butt',
    opacity: 0.75,
    smoothFactor: 1}).addTo(map);
				).addTo(mymap);
			});

			//Set function for line colors
			// function lineStyle(feature) {
			// 	var colorToUse;
			// 	var line = feature.properties.EcoRank;
			//
			// 	if (line === "Low") colorToUse = "yellow";
			// 	else if (line === "Med") colorToUse = "orange";
			// 	else if (line === "High") colorToUse = "red";
			// 	else colorToUse = "grey";
			//
			// 	return {
			// 		"color": colorToUse;
			// 		"weight": 5
			// 	};
			// }


      </script>

			<!-- Home Button -->
			<footer class="wrapper style1 align-center">
				<div class="inner">
					<ul class="actions stacked">
						<li><a href="https://whitneyemge.github.io/portfolio/" class="button">Back to Home</a></li>
					</ul>
				</div>
			</footer>


    </body>
  </html>
